{"ast":null,"code":"import BusquedaCliente from '../Clientes/BusquedaCliente';\nexport default {\n  name: \"DialogoAgregarCuenta\",\n  props: ['totalVenta'],\n  components: {\n    BusquedaCliente\n  },\n  data: () => ({\n    pagado: \"\",\n    porPagar: 0,\n    cliente: {}\n  }),\n  mounted() {\n    this.calcularRestante();\n  },\n  methods: {\n    onSeleccionado(cliente) {\n      this.cliente = cliente;\n    },\n    calcularRestante() {\n      this.porPagar = parseFloat(this.totalVenta - this.pagado);\n    },\n    agregarCuenta() {\n      if (Object.keys(this.cliente).length === 0) {\n        this.$buefy.toast.open({\n          type: 'is-danger',\n          message: 'Debes seleccionar un cliente.'\n        });\n        return;\n      }\n      let payload = {\n        tipo: 'cuenta',\n        pagado: this.pagado,\n        porPagar: this.porPagar,\n        cliente: this.cliente\n      };\n      this.$emit(\"terminar\", payload);\n    }\n  }\n};","map":{"version":3,"names":["BusquedaCliente","name","props","components","data","pagado","porPagar","cliente","mounted","calcularRestante","methods","onSeleccionado","parseFloat","totalVenta","agregarCuenta","Object","keys","length","$buefy","toast","open","type","message","payload","tipo","$emit"],"sources":["src/components/Ventas/DialogoAgregarCuenta.vue"],"sourcesContent":["<template>\r\n\t<form action=\"\">\r\n\t\t<div class=\"modal-card\" style=\"width: 600px\">\r\n\t\t\t<header class=\"modal-card-head has-background-info\">\r\n\t\t\t\t<p class=\"modal-card-title has-text-white\">Agregar a cuenta</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"delete\"\r\n\t\t\t\t\t@click=\"$emit('close', 'cuenta')\"/>\r\n\t\t\t</header>\r\n\t\t\t<section class=\"modal-card-body\">\r\n\t\t\t\t<p class=\"is-size-1 has-text-weight-bold\">Total ${{ totalVenta }}</p>\r\n\t\t\t\t<busqueda-cliente @seleccionado=\"onSeleccionado\"/>\r\n\t\t\t\t<b-field label=\"Pago inicial\" >\r\n\t\t\t\t\t<b-input step=\"any\" icon=\"currency-usd\" type=\"number\" placeholder=\"CuÃ¡nto deja el cliente\" v-model=\"pagado\" @input=\"calcularRestante\" size=\"is-medium\"></b-input>\r\n\t\t\t\t</b-field>\r\n\t\t\t\t<p class=\"is-size-1 has-text-weight-bold\">Por Pagar ${{ porPagar }}</p>\r\n\t\t\t</section>\r\n\t\t\t<footer class=\"modal-card-foot\">\r\n\t\t\t\t<b-button\r\n\t\t\t\t\tlabel=\"Cancelar\"\r\n\t\t\t\t\ticon-left=\"cancel\"\r\n\t\t\t\t\tsize=\"is-medium\"\r\n\t\t\t\t\t@click=\"$emit('close', 'cuenta')\" />\r\n\t\t\t\t<b-button\r\n\t\t\t\t\tlabel=\"Agregar a cuenta\"\r\n\t\t\t\t\ttype=\"is-info\"\r\n\t\t\t\t\ticon-left=\"wallet-plus\"\r\n\t\t\t\t\tsize=\"is-medium\"\r\n\t\t\t\t\t@click=\"agregarCuenta\" />\r\n\t\t\t</footer>\r\n\t\t</div>\r\n\t</form>\r\n</template>\r\n<script>\r\n\timport BusquedaCliente from '../Clientes/BusquedaCliente'\r\n\r\n\texport default{\r\n\t\tname:\"DialogoAgregarCuenta\",\r\n\t\tprops: ['totalVenta'],\r\n\t\tcomponents: { BusquedaCliente },\r\n\r\n\t\tdata:()=>({\r\n\t\t\tpagado: \"\",\r\n\t\t\tporPagar: 0,\r\n\t\t\tcliente: {}\r\n\t\t}),\r\n\r\n\r\n\t\tmounted(){\r\n\t\t\t\tthis.calcularRestante()\r\n\t\t\t},\r\n\r\n\t\tmethods:{\r\n\t\t\tonSeleccionado(cliente){\r\n\t\t\t\tthis.cliente = cliente\r\n\t\t\t},\r\n\r\n\r\n\t\t\tcalcularRestante(){\r\n\t\t\t\tthis.porPagar = parseFloat(this.totalVenta-this.pagado)\r\n\t\t\t},\r\n\r\n\t\t\tagregarCuenta(){\r\n\t\t\t\tif(Object.keys(this.cliente).length === 0) {\r\n\t\t\t\t\tthis.$buefy.toast.open({\r\n                         type: 'is-danger',\r\n                         message: 'Debes seleccionar un cliente.'\r\n                    })\r\n                    return\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet payload = {\r\n\t\t\t\t\ttipo: 'cuenta',\r\n\t\t\t\t\tpagado: this.pagado,\r\n\t\t\t\t\tporPagar: this.porPagar,\r\n\t\t\t\t\tcliente: this.cliente\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$emit(\"terminar\", payload)\r\n\t\t\t}\t\r\n\t\t\r\n\t\t}\r\n\t}\r\n</script>"],"mappings":"AAmCA,OAAAA,eAAA;AAEA;EACAC,IAAA;EACAC,KAAA;EACAC,UAAA;IAAAH;EAAA;EAEAI,IAAA,EAAAA,CAAA;IACAC,MAAA;IACAC,QAAA;IACAC,OAAA;EACA;EAGAC,QAAA;IACA,KAAAC,gBAAA;EACA;EAEAC,OAAA;IACAC,eAAAJ,OAAA;MACA,KAAAA,OAAA,GAAAA,OAAA;IACA;IAGAE,iBAAA;MACA,KAAAH,QAAA,GAAAM,UAAA,MAAAC,UAAA,QAAAR,MAAA;IACA;IAEAS,cAAA;MACA,IAAAC,MAAA,CAAAC,IAAA,MAAAT,OAAA,EAAAU,MAAA;QACA,KAAAC,MAAA,CAAAC,KAAA,CAAAC,IAAA;UACAC,IAAA;UACAC,OAAA;QACA;QACA;MACA;MAEA,IAAAC,OAAA;QACAC,IAAA;QACAnB,MAAA,OAAAA,MAAA;QACAC,QAAA,OAAAA,QAAA;QACAC,OAAA,OAAAA;MACA;MAEA,KAAAkB,KAAA,aAAAF,OAAA;IACA;EAEA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}