{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport apiRequest from '../../Servicios/HttpService';\nexport default {\n  name: \"BusquedaCliente\",\n  data: () => ({\n    cliente: \"\",\n    clientesEncontrados: [],\n    clienteSeleccionado: null\n  }),\n  methods: {\n    deseleccionarCliente() {\n      this.clienteSeleccionado = null;\n    },\n    seleccionarCliente(opcion) {\n      if (!opcion) return;\n      this.clienteSeleccionado = opcion;\n      this.$emit(\"seleccionado\", this.clienteSeleccionado);\n      setTimeout(() => this.cliente = '', 10);\n    },\n    buscarClientes() {\n      if (!this.cliente.trim()) {\n        this.clientesEncontrados = [];\n        return;\n      }\n      apiRequest({\n        method: 'GET',\n        path: `customers/search/${this.cliente}`\n      }).then(clientes => {\n        const customerActive = clientes.data.filter(c => c.isActive === true);\n        this.clientesEncontrados = clientes.status === 200 ? customerActive : [];\n      });\n    }\n  },\n  computed: {\n    clientesFiltrados() {\n      return this.clientesEncontrados.filter(opcion => {\n        return opcion.name.toString().toLowerCase().indexOf(this.cliente.toLowerCase()) >= 0;\n      });\n    }\n  }\n};","map":{"version":3,"names":["apiRequest","name","data","cliente","clientesEncontrados","clienteSeleccionado","methods","deseleccionarCliente","seleccionarCliente","opcion","$emit","setTimeout","buscarClientes","trim","method","path","then","clientes","customerActive","filter","c","isActive","status","computed","clientesFiltrados","toString","toLowerCase","indexOf"],"sources":["src/components/Clientes/BusquedaCliente.vue"],"sourcesContent":["<template>\r\n\t<section>\r\n\t\t<b-field label=\"Nombre del cliente\">\r\n\t\t\t<b-autocomplete\r\n\t\t\t\tv-model=\"cliente\"\r\n\t\t\t\tid=\"cliente\"\r\n\t\t\t\tplaceholder=\"Escribe el nombre del cliente\"\r\n\t\t\t\t:keep-first=\"true\"\r\n\t\t\t\t:data=\"clientesFiltrados\"\r\n\t\t\t\tfield=\"name\"\r\n\t\t\t\t@input=\"buscarClientes\"\r\n\t\t\t\t@select=\"seleccionarCliente\"\r\n\t\t\t\tsize=\"is-medium\"\r\n\t\t\t>\r\n\t\t\t</b-autocomplete>\r\n\t\t</b-field>\r\n\t\t<div class=\"notification is-info mt-2\" v-if=\"clienteSeleccionado\">\r\n\t\t\t<button class=\"delete\" @click=\"deseleccionarCliente\"></button>\r\n\t\t\t<p>Cliente: <b>{{ clienteSeleccionado.name }}</b></p>\r\n\t\t\t<p>Tel√©fono: <b>{{ clienteSeleccionado.phone }}</b></p>\r\n\t\t</div>\r\n\t</section>\r\n</template>\r\n<script>\r\n\timport apiRequest from '../../Servicios/HttpService';\r\n\r\n\texport default{\r\n\t\tname: \"BusquedaCliente\",\r\n\r\n\t\tdata:()=>({\r\n\t\t\tcliente: \"\",\r\n\t\t\tclientesEncontrados: [],\r\n\t\t\tclienteSeleccionado: null\r\n\t\t}),\r\n\r\n\t\tmethods: {\r\n\t\t\tdeseleccionarCliente(){\r\n\t\t\t\tthis.clienteSeleccionado = null\r\n\t\t\t},\r\n\t\t\tseleccionarCliente(opcion) {\r\n\t\t\t\tif(!opcion) return\r\n\t\t\t\tthis.clienteSeleccionado = opcion\r\n\t\t\t\tthis.$emit(\"seleccionado\", this.clienteSeleccionado)\r\n\t\t\t\tsetTimeout(() => this.cliente = '', 10)\r\n\t\t\t},\r\n\r\n\t\t\tbuscarClientes(){\r\n\t\t\t\tif (!this.cliente.trim()) {\r\n\t\t\t\tthis.clientesEncontrados = [];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\tapiRequest({\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\tpath: `customers/search/${this.cliente}`\r\n\t\t\t\t})\r\n\t\t\t\t.then(clientes =>{ \r\n\t\t\t\t\tconst customerActive = clientes.data.filter((c) => c.isActive === true)\r\n\t\t\t\t\tthis.clientesEncontrados = clientes.status === 200 ? customerActive : []\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\tclientesFiltrados() {\r\n\t\t\t\treturn this.clientesEncontrados.filter(opcion => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\topcion.name\r\n\t\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t.indexOf(this.cliente.toLowerCase()) >= 0\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n</script>"],"mappings":";;AAwBA,OAAAA,UAAA;AAEA;EACAC,IAAA;EAEAC,IAAA,EAAAA,CAAA;IACAC,OAAA;IACAC,mBAAA;IACAC,mBAAA;EACA;EAEAC,OAAA;IACAC,qBAAA;MACA,KAAAF,mBAAA;IACA;IACAG,mBAAAC,MAAA;MACA,KAAAA,MAAA;MACA,KAAAJ,mBAAA,GAAAI,MAAA;MACA,KAAAC,KAAA,sBAAAL,mBAAA;MACAM,UAAA,YAAAR,OAAA;IACA;IAEAS,eAAA;MACA,UAAAT,OAAA,CAAAU,IAAA;QACA,KAAAT,mBAAA;QACA;MACA;MACAJ,UAAA;QACAc,MAAA;QACAC,IAAA,2BAAAZ,OAAA;MACA,GACAa,IAAA,CAAAC,QAAA;QACA,MAAAC,cAAA,GAAAD,QAAA,CAAAf,IAAA,CAAAiB,MAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,QAAA;QACA,KAAAjB,mBAAA,GAAAa,QAAA,CAAAK,MAAA,WAAAJ,cAAA;MACA;IACA;EACA;EAEAK,QAAA;IACAC,kBAAA;MACA,YAAApB,mBAAA,CAAAe,MAAA,CAAAV,MAAA;QACA,OACAA,MAAA,CAAAR,IAAA,CACAwB,QAAA,GACAC,WAAA,GACAC,OAAA,MAAAxB,OAAA,CAAAuB,WAAA;MAEA;IACA;EACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}