{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"DialogoMarcas\",\n  props: {\n    titulo: {\n      type: String,\n      required: true,\n      validator: value => ['Agregar', 'Editar'].includes(value)\n    },\n    nombre: {\n      type: String,\n      default: \"\"\n    }\n  },\n  data() {\n    return {\n      nombreMarca: \"\",\n      loading: false,\n      errors: [],\n      isValid: false\n    };\n  },\n  mounted() {\n    this.nombreMarca = this.nombre;\n    this.validateInput();\n    this.$nextTick(() => {\n      this.$refs.nombreInput.focus();\n    });\n  },\n  methods: {\n    validateInput() {\n      this.errors = [];\n      if (!this.nombreMarca.trim()) {\n        this.errors.push('El nombre de la categoría es requerido');\n      } else if (this.nombreMarca.length < 2) {\n        this.errors.push('El nombre debe tener al menos 2 caracteres');\n      } else if (this.nombreMarca.length > 100) {\n        this.errors.push('El nombre no puede exceder los 100 caracteres');\n      }\n\n      // Validar caracteres especiales\n      const regex = /^[a-zA-ZÀ-ÿ\\u00f1\\u00d1\\s0-9-_.]+$/;\n      if (!regex.test(this.nombreMarca)) {\n        this.errors.push('El nombre solo puede contener letras, números, espacios y guiones');\n      }\n      this.isValid = this.errors.length === 0;\n    },\n    registrar() {\n      if (!this.isValid) {\n        return;\n      }\n      this.loading = true;\n      this.$emit(\"registrar\", this.nombreMarca.trim());\n    }\n  },\n  watch: {\n    nombre(newValue) {\n      this.nombreMarca = newValue;\n      this.validateInput();\n    }\n  }\n};","map":{"version":3,"names":["name","props","titulo","type","String","required","validator","value","includes","nombre","default","data","nombreMarca","loading","errors","isValid","mounted","validateInput","$nextTick","$refs","nombreInput","focus","methods","trim","push","length","regex","test","registrar","$emit","watch","newValue"],"sources":["src/components/MarcasCategoriasProveedores/DialogoCategorias.vue"],"sourcesContent":["<template>\r\n\t<form @submit.prevent=\"registrar\">\r\n\t\t<div class=\"modal-card\" style=\"width: 600px\">\r\n\t\t\t<header class=\"modal-card-head\">\r\n\t\t\t\t<p class=\"modal-card-title\">{{ titulo }} Categorías</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"delete\"\r\n\t\t\t\t\t@click=\"$emit('close')\"\r\n\t\t\t\t\taria-label=\"Cerrar\"/>\r\n\t\t\t</header>\r\n\r\n\t\t\t<section class=\"modal-card-body\">\r\n\t\t\t\t<b-field \r\n\t\t\t\t\tlabel=\"Nombre de la categoría\"\r\n\t\t\t\t\t:type=\"{'is-danger': errors.length > 0}\"\r\n\t\t\t\t\t:message=\"errors\">\r\n\t\t\t\t\t<b-input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Bebidas \"\r\n\t\t\t\t\t\tv-model=\"nombreMarca\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t:maxlength=\"100\"\r\n\t\t\t\t\t\t@input=\"validateInput\"\r\n\t\t\t\t\t\tref=\"nombreInput\"\r\n\t\t\t\t\t\texpanded>\r\n\t\t\t\t\t</b-input>\r\n\t\t\t\t</b-field>\r\n\t\t\t</section>\r\n\r\n\t\t\t<footer class=\"modal-card-foot\">\r\n\t\t\t\t<b-button\r\n\t\t\t\t\ttype=\"is-light\"\r\n\t\t\t\t\ticon-left=\"close\"\r\n\t\t\t\t\tlabel=\"Cancelar\"\r\n\t\t\t\t\tsize=\"is-medium\"\r\n\t\t\t\t\t@click=\"$emit('close')\" />\r\n\t\t\t\t<b-button\r\n\t\t\t\t\ttype=\"is-primary\"\r\n\t\t\t\t\ticon-left=\"check\"\r\n\t\t\t\t\tlabel=\"Guardar\"\r\n\t\t\t\t\tsize=\"is-medium\"\r\n\t\t\t\t\tnative-type=\"submit\"\r\n\t\t\t\t\t:loading=\"loading\"\r\n\t\t\t\t\t:disabled=\"!isValid\" />\r\n\t\t\t</footer>\r\n\t\t</div>\r\n\t</form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"DialogoMarcas\",\r\n\t\r\n\tprops: {\r\n\t\ttitulo: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true,\r\n\t\t\tvalidator: value => ['Agregar', 'Editar'].includes(value)\r\n\t\t},\r\n\t\tnombre: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t}\r\n\t},\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnombreMarca: \"\",\r\n\t\t\tloading: false,\r\n\t\t\terrors: [],\r\n\t\t\tisValid: false\r\n\t\t}\r\n\t},\r\n\r\n\tmounted() {\r\n\t\tthis.nombreMarca = this.nombre\r\n\t\tthis.validateInput()\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.$refs.nombreInput.focus()\r\n\t\t})\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tvalidateInput() {\r\n\t\t\tthis.errors = []\r\n\t\t\t\r\n\t\t\tif (!this.nombreMarca.trim()) {\r\n\t\t\t\tthis.errors.push('El nombre de la categoría es requerido')\r\n\t\t\t} else if (this.nombreMarca.length < 2) {\r\n\t\t\t\tthis.errors.push('El nombre debe tener al menos 2 caracteres')\r\n\t\t\t} else if (this.nombreMarca.length > 100) {\r\n\t\t\t\tthis.errors.push('El nombre no puede exceder los 100 caracteres')\r\n\t\t\t}\r\n\r\n\t\t\t// Validar caracteres especiales\r\n\t\t\tconst regex = /^[a-zA-ZÀ-ÿ\\u00f1\\u00d1\\s0-9-_.]+$/\r\n\t\t\tif (!regex.test(this.nombreMarca)) {\r\n\t\t\t\tthis.errors.push('El nombre solo puede contener letras, números, espacios y guiones')\r\n\t\t\t}\r\n\r\n\t\t\tthis.isValid = this.errors.length === 0\r\n\t\t},\r\n\r\n\t\tregistrar() {\r\n\t\t\tif (!this.isValid) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.loading = true\r\n\t\t\tthis.$emit(\"registrar\", this.nombreMarca.trim())\r\n\t\t}\r\n\t},\r\n\r\n\twatch: {\r\n\t\tnombre(newValue) {\r\n\t\t\tthis.nombreMarca = newValue\r\n\t\t\tthis.validateInput()\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.modal-card {\r\n\tmargin: 0;\r\n}\r\n\r\n.modal-card-title {\r\n\tfont-weight: 600;\r\n}\r\n\r\n.modal-card-body {\r\n\tpadding: 1.5rem;\r\n}\r\n\r\n.modal-card-foot {\r\n\tjustify-content: flex-end;\r\n\tpadding: 1rem;\r\n}\r\n\r\n.button {\r\n\tmargin-left: 0.5rem;\r\n}\r\n</style>"],"mappings":";AAmDA;EACAA,IAAA;EAEAC,KAAA;IACAC,MAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;MACAC,SAAA,EAAAC,KAAA,0BAAAC,QAAA,CAAAD,KAAA;IACA;IACAE,MAAA;MACAN,IAAA,EAAAC,MAAA;MACAM,OAAA;IACA;EACA;EAEAC,KAAA;IACA;MACAC,WAAA;MACAC,OAAA;MACAC,MAAA;MACAC,OAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAJ,WAAA,QAAAH,MAAA;IACA,KAAAQ,aAAA;IACA,KAAAC,SAAA;MACA,KAAAC,KAAA,CAAAC,WAAA,CAAAC,KAAA;IACA;EACA;EAEAC,OAAA;IACAL,cAAA;MACA,KAAAH,MAAA;MAEA,UAAAF,WAAA,CAAAW,IAAA;QACA,KAAAT,MAAA,CAAAU,IAAA;MACA,gBAAAZ,WAAA,CAAAa,MAAA;QACA,KAAAX,MAAA,CAAAU,IAAA;MACA,gBAAAZ,WAAA,CAAAa,MAAA;QACA,KAAAX,MAAA,CAAAU,IAAA;MACA;;MAEA;MACA,MAAAE,KAAA;MACA,KAAAA,KAAA,CAAAC,IAAA,MAAAf,WAAA;QACA,KAAAE,MAAA,CAAAU,IAAA;MACA;MAEA,KAAAT,OAAA,QAAAD,MAAA,CAAAW,MAAA;IACA;IAEAG,UAAA;MACA,UAAAb,OAAA;QACA;MACA;MAEA,KAAAF,OAAA;MACA,KAAAgB,KAAA,mBAAAjB,WAAA,CAAAW,IAAA;IACA;EACA;EAEAO,KAAA;IACArB,OAAAsB,QAAA;MACA,KAAAnB,WAAA,GAAAmB,QAAA;MACA,KAAAd,aAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}