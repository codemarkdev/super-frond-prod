{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { _ as _defineProperty, l as _createForOfIteratorHelper, e as _toConsumableArray, b as _typeof } from './_rollupPluginBabelHelpers-df313029.js';\nimport { getValueByPath, toCssWidth, isCustomElement, createAbsoluteElement, removeElement } from './helpers.js';\nimport { F as FormElementMixin } from './FormElementMixin-b223d3c7.js';\nimport { I as Input } from './Input-20612b63.js';\nimport { n as normalizeComponent } from './plugins-218aea86.js';\nvar script = {\n  name: 'BAutocomplete',\n  components: _defineProperty({}, Input.name, Input),\n  mixins: [FormElementMixin],\n  inheritAttrs: false,\n  props: {\n    value: [Number, String],\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    field: {\n      type: String,\n      default: 'value'\n    },\n    keepFirst: Boolean,\n    clearOnSelect: Boolean,\n    openOnFocus: Boolean,\n    customFormatter: Function,\n    checkInfiniteScroll: Boolean,\n    keepOpen: Boolean,\n    selectOnClickOutside: Boolean,\n    clearable: Boolean,\n    maxHeight: [String, Number],\n    dropdownPosition: {\n      type: String,\n      default: 'auto'\n    },\n    groupField: String,\n    groupOptions: String,\n    iconRight: String,\n    iconRightClickable: Boolean,\n    appendToBody: Boolean,\n    type: {\n      type: String,\n      default: 'text'\n    },\n    confirmKeys: {\n      type: Array,\n      default: function _default() {\n        return ['Tab', 'Enter'];\n      }\n    },\n    selectableHeader: Boolean,\n    selectableFooter: Boolean\n  },\n  data: function data() {\n    return {\n      selected: null,\n      hovered: null,\n      headerHovered: null,\n      footerHovered: null,\n      isActive: false,\n      newValue: this.value,\n      newAutocomplete: this.autocomplete || 'off',\n      ariaAutocomplete: this.keepFirst ? 'both' : 'list',\n      isListInViewportVertically: true,\n      hasFocus: false,\n      style: {},\n      _isAutocomplete: true,\n      _elementRef: 'input',\n      _bodyEl: undefined,\n      // Used to append to body\n      timeOutID: null\n    };\n  },\n  computed: {\n    computedData: function computedData() {\n      var _this = this;\n      if (this.groupField) {\n        if (this.groupOptions) {\n          var newData = [];\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            var items = getValueByPath(option, _this.groupOptions);\n            newData.push({\n              group: group,\n              items: items\n            });\n          });\n          return newData;\n        } else {\n          var tmp = {};\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            if (!tmp[group]) tmp[group] = [];\n            tmp[group].push(option);\n          });\n          var _newData = [];\n          Object.keys(tmp).forEach(function (group) {\n            _newData.push({\n              group: group,\n              items: tmp[group]\n            });\n          });\n          return _newData;\n        }\n      }\n      return [{\n        items: this.data\n      }];\n    },\n    isEmpty: function isEmpty() {\n      if (!this.computedData) return true;\n      return !this.computedData.some(function (element) {\n        return element.items && element.items.length;\n      });\n    },\n    /**\n     * White-listed items to not close when clicked.\n     * Add input, dropdown and all children.\n     */\n    whiteList: function whiteList() {\n      var whiteList = [];\n      whiteList.push(this.$refs.input.$el.querySelector('input'));\n      whiteList.push(this.$refs.dropdown);\n      // Add all children from dropdown\n      if (this.$refs.dropdown !== undefined) {\n        var children = this.$refs.dropdown.querySelectorAll('*');\n        var _iterator = _createForOfIteratorHelper(children),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var child = _step.value;\n            whiteList.push(child);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      if (this.$parent.$data._isTaginput) {\n        // Add taginput container\n        whiteList.push(this.$parent.$el);\n        // Add .tag and .delete\n        var tagInputChildren = this.$parent.$el.querySelectorAll('*');\n        var _iterator2 = _createForOfIteratorHelper(tagInputChildren),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var tagInputChild = _step2.value;\n            whiteList.push(tagInputChild);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n      return whiteList;\n    },\n    /**\n     * Check if exists default slot\n     */\n    hasDefaultSlot: function hasDefaultSlot() {\n      return !!this.$scopedSlots.default;\n    },\n    /**\n     * Check if exists group slot\n     */\n    hasGroupSlot: function hasGroupSlot() {\n      return !!this.$scopedSlots.group;\n    },\n    /**\n     * Check if exists \"empty\" slot\n     */\n    hasEmptySlot: function hasEmptySlot() {\n      return !!this.$slots.empty;\n    },\n    /**\n     * Check if exists \"header\" slot\n     */\n    hasHeaderSlot: function hasHeaderSlot() {\n      return !!this.$slots.header;\n    },\n    /**\n     * Check if exists \"footer\" slot\n     */\n    hasFooterSlot: function hasFooterSlot() {\n      return !!this.$slots.footer;\n    },\n    /**\n     * Apply dropdownPosition property\n     */\n    isOpenedTop: function isOpenedTop() {\n      return this.dropdownPosition === 'top' || this.dropdownPosition === 'auto' && !this.isListInViewportVertically;\n    },\n    newIconRight: function newIconRight() {\n      if (this.clearable && this.newValue) {\n        return 'close-circle';\n      }\n      return this.iconRight;\n    },\n    newIconRightClickable: function newIconRightClickable() {\n      if (this.clearable) {\n        return true;\n      }\n      return this.iconRightClickable;\n    },\n    contentStyle: function contentStyle() {\n      return {\n        maxHeight: toCssWidth(this.maxHeight)\n      };\n    }\n  },\n  watch: {\n    /**\n     * When dropdown is toggled, check the visibility to know when\n     * to open upwards.\n     */\n    isActive: function isActive(active) {\n      var _this2 = this;\n      if (this.dropdownPosition === 'auto') {\n        if (active) {\n          this.calcDropdownInViewportVertical();\n        } else {\n          // Timeout to wait for the animation to finish before recalculating\n          this.timeOutID = setTimeout(function () {\n            _this2.calcDropdownInViewportVertical();\n          }, 100);\n        }\n      }\n      this.$nextTick(function () {\n        _this2.$emit('active', active);\n      });\n    },\n    /**\n     * When checkInfiniteScroll property changes scroll event should be removed or added\n     */\n    checkInfiniteScroll: function checkInfiniteScroll(_checkInfiniteScroll) {\n      if ((this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) === false) return;\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      if (_checkInfiniteScroll === true) {\n        list.addEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n        return;\n      }\n      list.removeEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n    },\n    /**\n     * When updating input's value\n     *   1. Emit changes\n     *   2. If value isn't the same as selected, set null\n     *   3. Close dropdown if value is clear or else open it\n     */\n    newValue: function newValue(value) {\n      this.$emit('input', value);\n      // Check if selected is invalid\n      var currentValue = this.getValue(this.selected);\n      if (currentValue && currentValue !== value) {\n        this.setSelected(null, false);\n      }\n      // Close dropdown if input is clear or else open it\n      if (this.hasFocus && (!this.openOnFocus || value)) {\n        this.isActive = !!value;\n      }\n    },\n    /**\n     * When v-model is changed:\n     *   1. Update internal value.\n     *   2. If it's invalid, validate again.\n     */\n    value: function value(_value) {\n      this.newValue = _value;\n    },\n    /**\n     * Select first option if \"keep-first\n     */\n    data: function data() {\n      var _this3 = this;\n      // Keep first option always pre-selected\n      if (this.keepFirst) {\n        this.$nextTick(function () {\n          if (_this3.isActive) {\n            _this3.selectFirstOption(_this3.computedData);\n          } else {\n            _this3.setHovered(null);\n          }\n        });\n      } else {\n        if (this.hovered) {\n          // reset hovered if list doesn't contain it\n          var hoveredValue = this.getValue(this.hovered);\n          var data = this.computedData.map(function (d) {\n            return d.items;\n          }).reduce(function (a, b) {\n            return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n          }, []);\n          if (!data.some(function (d) {\n            return _this3.getValue(d) === hoveredValue;\n          })) {\n            this.setHovered(null);\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    /**\n     * Set which option is currently hovered.\n     */\n    setHovered: function setHovered(option) {\n      if (option === undefined) return;\n      this.hovered = option;\n    },\n    /**\n     * Set which option is currently selected, update v-model,\n     * update input value and close dropdown.\n     */\n    setSelected: function setSelected(option) {\n      var _this4 = this;\n      var closeDropdown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var event = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      if (option === undefined) return;\n      this.selected = option;\n      this.$emit('select', this.selected, event);\n      if (this.selected !== null) {\n        if (this.clearOnSelect) {\n          var input = this.$refs.input;\n          input.newValue = '';\n          input.$refs.input.value = '';\n        } else {\n          this.newValue = this.getValue(this.selected);\n        }\n        this.setHovered(null);\n      }\n      closeDropdown && this.$nextTick(function () {\n        _this4.isActive = false;\n      });\n      this.checkValidity();\n    },\n    /**\n     * Select first option\n     */\n    selectFirstOption: function selectFirstOption(computedData) {\n      var _this5 = this;\n      this.$nextTick(function () {\n        var nonEmptyElements = computedData.filter(function (element) {\n          return element.items && element.items.length;\n        });\n        if (nonEmptyElements.length) {\n          var option = nonEmptyElements[0].items[0];\n          _this5.setHovered(option);\n        } else {\n          _this5.setHovered(null);\n        }\n      });\n    },\n    keydown: function keydown(event) {\n      var key = event.key; // cannot destructure preventDefault (https://stackoverflow.com/a/49616808/2774496)\n      // prevent emit submit event\n      if (key === 'Enter') event.preventDefault();\n      // Close dropdown on Tab & no hovered\n      if (key === 'Escape' || key === 'Tab') {\n        this.isActive = false;\n      }\n      if (this.confirmKeys.indexOf(key) >= 0) {\n        // If adding by comma, don't add the comma to the input\n        if (key === ',') event.preventDefault();\n        // Close dropdown on select by Tab\n        var closeDropdown = !this.keepOpen || key === 'Tab';\n        if (this.hovered === null) {\n          // header and footer uses headerHovered && footerHovered. If header or footer\n          // was selected then fire event otherwise just return so a value isn't selected\n          this.checkIfHeaderOrFooterSelected(event, null, closeDropdown);\n          return;\n        }\n        this.setSelected(this.hovered, closeDropdown, event);\n      }\n    },\n    selectHeaderOrFoterByClick: function selectHeaderOrFoterByClick(event, origin) {\n      this.checkIfHeaderOrFooterSelected(event, {\n        origin: origin\n      });\n    },\n    /**\n     * Check if header or footer was selected.\n     */\n    checkIfHeaderOrFooterSelected: function checkIfHeaderOrFooterSelected(event, triggerClick) {\n      var closeDropdown = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (this.selectableHeader && (this.headerHovered || triggerClick && triggerClick.origin === 'header')) {\n        this.$emit('select-header', event);\n        this.headerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n      if (this.selectableFooter && (this.footerHovered || triggerClick && triggerClick.origin === 'footer')) {\n        this.$emit('select-footer', event);\n        this.footerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n    },\n    /**\n     * Close dropdown if clicked outside.\n     */\n    clickedOutside: function clickedOutside(event) {\n      var target = isCustomElement(this) ? event.composedPath()[0] : event.target;\n      if (!this.hasFocus && this.whiteList.indexOf(target) < 0) {\n        if (this.keepFirst && this.hovered && this.selectOnClickOutside) {\n          this.setSelected(this.hovered, true);\n        } else {\n          this.isActive = false;\n        }\n      }\n    },\n    /**\n     * Return display text for the input.\n     * If object, get value from path, or else just the value.\n     */\n    getValue: function getValue(option) {\n      if (option === null) return;\n      if (typeof this.customFormatter !== 'undefined') {\n        return this.customFormatter(option);\n      }\n      return _typeof(option) === 'object' ? getValueByPath(option, this.field) : option;\n    },\n    /**\n     * Check if the scroll list inside the dropdown\n     * reached it's end.\n     */\n    checkIfReachedTheEndOfScroll: function checkIfReachedTheEndOfScroll() {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      var footerHeight = this.hasFooterSlot ? list.querySelectorAll('div.dropdown-footer')[0].clientHeight : 0;\n      if (list.clientHeight !== list.scrollHeight && list.scrollTop + list.parentElement.clientHeight + footerHeight >= list.scrollHeight) {\n        this.$emit('infinite-scroll');\n      }\n    },\n    /**\n     * Calculate if the dropdown is vertically visible when activated,\n     * otherwise it is openened upwards.\n     */\n    calcDropdownInViewportVertical: function calcDropdownInViewportVertical() {\n      var _this6 = this;\n      this.$nextTick(function () {\n        /**\n         * this.$refs.dropdown may be undefined\n         * when Autocomplete is conditional rendered\n         */\n        if (_this6.$refs.dropdown === undefined) return;\n        var rect = _this6.$refs.dropdown.getBoundingClientRect();\n        _this6.isListInViewportVertically = rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);\n        if (_this6.appendToBody) {\n          _this6.updateAppendToBody();\n        }\n      });\n    },\n    /**\n     * Arrows keys listener.\n     * If dropdown is active, set hovered option, or else just open.\n     */\n    keyArrows: function keyArrows(direction) {\n      var sum = direction === 'down' ? 1 : -1;\n      if (this.isActive) {\n        var data = this.computedData.map(function (d) {\n          return d.items;\n        }).reduce(function (a, b) {\n          return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n        }, []);\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          data.unshift(undefined);\n        }\n        if (this.hasFooterSlot && this.selectableFooter) {\n          data.push(undefined);\n        }\n        var index;\n        if (this.headerHovered) {\n          index = 0 + sum;\n        } else if (this.footerHovered) {\n          index = data.length - 1 + sum;\n        } else {\n          index = data.indexOf(this.hovered) + sum;\n        }\n        index = index > data.length - 1 ? data.length - 1 : index;\n        index = index < 0 ? 0 : index;\n        this.footerHovered = false;\n        this.headerHovered = false;\n        this.setHovered(data[index] !== undefined ? data[index] : null);\n        if (this.hasFooterSlot && this.selectableFooter && index === data.length - 1) {\n          this.footerHovered = true;\n        }\n        if (this.hasHeaderSlot && this.selectableHeader && index === 0) {\n          this.headerHovered = true;\n        }\n        var list = this.$refs.dropdown.querySelector('.dropdown-content');\n        var querySelectorText = 'a.dropdown-item:not(.is-disabled)';\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          querySelectorText += ',div.dropdown-header';\n        }\n        if (this.hasFooterSlot && this.selectableFooter) {\n          querySelectorText += ',div.dropdown-footer';\n        }\n        var element = list.querySelectorAll(querySelectorText)[index];\n        if (!element) return;\n        var visMin = list.scrollTop;\n        var visMax = list.scrollTop + list.clientHeight - element.clientHeight;\n        if (element.offsetTop < visMin) {\n          list.scrollTop = element.offsetTop;\n        } else if (element.offsetTop >= visMax) {\n          list.scrollTop = element.offsetTop - list.clientHeight + element.clientHeight;\n        }\n      } else {\n        this.isActive = true;\n      }\n    },\n    /**\n     * Focus listener.\n     * If value is the same as selected, select all text.\n     */\n    focused: function focused(event) {\n      if (this.getValue(this.selected) === this.newValue) {\n        this.$el.querySelector('input').select();\n      }\n      if (this.openOnFocus) {\n        this.isActive = true;\n        if (this.keepFirst) {\n          // If open on focus, update the hovered\n          this.selectFirstOption(this.computedData);\n        }\n      }\n      this.hasFocus = true;\n      this.$emit('focus', event);\n    },\n    /**\n     * Blur listener.\n     */\n    onBlur: function onBlur(event) {\n      this.hasFocus = false;\n      this.$emit('blur', event);\n    },\n    onInput: function onInput() {\n      var currentValue = this.getValue(this.selected);\n      if (currentValue && currentValue === this.newValue) return;\n      this.$emit('typing', this.newValue);\n      this.checkValidity();\n    },\n    rightIconClick: function rightIconClick(event) {\n      if (this.clearable) {\n        this.newValue = '';\n        this.setSelected(null, false);\n        if (this.openOnFocus) {\n          this.$refs.input.$el.focus();\n        }\n      } else {\n        this.$emit('icon-right-click', event);\n      }\n    },\n    checkValidity: function checkValidity() {\n      var _this7 = this;\n      if (this.useHtml5Validation) {\n        this.$nextTick(function () {\n          _this7.checkHtml5Validity();\n        });\n      }\n    },\n    updateAppendToBody: function updateAppendToBody() {\n      var dropdownMenu = this.$refs.dropdown;\n      var trigger = this.$parent.$data._isTaginput ? this.$parent.$el : this.$refs.input.$el;\n      if (dropdownMenu && trigger) {\n        // update wrapper dropdown\n        var root = this.$data._bodyEl;\n        root.classList.forEach(function (item) {\n          return root.classList.remove(item);\n        });\n        root.classList.add('autocomplete');\n        root.classList.add('control');\n        if (this.expandend) {\n          root.classList.add('is-expandend');\n        }\n        var rect = trigger.getBoundingClientRect();\n        var top = rect.top + window.scrollY;\n        var left = rect.left + window.scrollX;\n        if (!this.isOpenedTop) {\n          top += trigger.clientHeight;\n        } else {\n          top -= dropdownMenu.clientHeight;\n        }\n        this.style = {\n          position: 'absolute',\n          top: \"\".concat(top, \"px\"),\n          left: \"\".concat(left, \"px\"),\n          width: \"\".concat(trigger.clientWidth, \"px\"),\n          maxWidth: \"\".concat(trigger.clientWidth, \"px\"),\n          zIndex: '99'\n        };\n      }\n    }\n  },\n  created: function created() {\n    if (typeof window !== 'undefined') {\n      document.addEventListener('click', this.clickedOutside);\n      if (this.dropdownPosition === 'auto') {\n        window.addEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n  },\n  mounted: function mounted() {\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.addEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n    }\n    if (this.appendToBody) {\n      this.$data._bodyEl = createAbsoluteElement(this.$refs.dropdown);\n      this.updateAppendToBody();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (typeof window !== 'undefined') {\n      document.removeEventListener('click', this.clickedOutside);\n      if (this.dropdownPosition === 'auto') {\n        window.removeEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.removeEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n    }\n    if (this.appendToBody) {\n      removeElement(this.$data._bodyEl);\n    }\n    clearTimeout(this.timeOutID);\n  }\n};\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function () {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c('div', {\n    staticClass: \"autocomplete control\",\n    class: {\n      'is-expanded': _vm.expanded\n    }\n  }, [_c('b-input', _vm._b({\n    ref: \"input\",\n    attrs: {\n      \"type\": _vm.type,\n      \"size\": _vm.size,\n      \"loading\": _vm.loading,\n      \"rounded\": _vm.rounded,\n      \"icon\": _vm.icon,\n      \"icon-right\": _vm.newIconRight,\n      \"icon-right-clickable\": _vm.newIconRightClickable,\n      \"icon-pack\": _vm.iconPack,\n      \"maxlength\": _vm.maxlength,\n      \"autocomplete\": _vm.newAutocomplete,\n      \"use-html5-validation\": false,\n      \"aria-autocomplete\": _vm.ariaAutocomplete\n    },\n    on: {\n      \"input\": _vm.onInput,\n      \"focus\": _vm.focused,\n      \"blur\": _vm.onBlur,\n      \"icon-right-click\": _vm.rightIconClick,\n      \"icon-click\": function (event) {\n        return _vm.$emit('icon-click', event);\n      }\n    },\n    nativeOn: {\n      \"keydown\": [function ($event) {\n        return _vm.keydown($event);\n      }, function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"up\", 38, $event.key, [\"Up\", \"ArrowUp\"])) {\n          return null;\n        }\n        $event.preventDefault();\n        return _vm.keyArrows('up');\n      }, function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"down\", 40, $event.key, [\"Down\", \"ArrowDown\"])) {\n          return null;\n        }\n        $event.preventDefault();\n        return _vm.keyArrows('down');\n      }]\n    },\n    model: {\n      value: _vm.newValue,\n      callback: function ($$v) {\n        _vm.newValue = $$v;\n      },\n      expression: \"newValue\"\n    }\n  }, 'b-input', _vm.$attrs, false)), _c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.isActive && (!_vm.isEmpty || _vm.hasEmptySlot || _vm.hasHeaderSlot || _vm.hasFooterSlot),\n      expression: \"isActive && (!isEmpty || hasEmptySlot || hasHeaderSlot || hasFooterSlot)\"\n    }],\n    ref: \"dropdown\",\n    staticClass: \"dropdown-menu\",\n    class: {\n      'is-opened-top': _vm.isOpenedTop && !_vm.appendToBody\n    },\n    style: _vm.style\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.isActive,\n      expression: \"isActive\"\n    }],\n    staticClass: \"dropdown-content\",\n    style: _vm.contentStyle\n  }, [_vm.hasHeaderSlot ? _c('div', {\n    staticClass: \"dropdown-item dropdown-header\",\n    class: {\n      'is-hovered': _vm.headerHovered\n    },\n    attrs: {\n      \"role\": \"button\",\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function ($event) {\n        return _vm.selectHeaderOrFoterByClick($event, 'header');\n      }\n    }\n  }, [_vm._t(\"header\")], 2) : _vm._e(), _vm._l(_vm.computedData, function (element, groupindex) {\n    return [element.group ? _c('div', {\n      key: groupindex + 'group',\n      staticClass: \"dropdown-item\"\n    }, [_vm.hasGroupSlot ? _vm._t(\"group\", null, {\n      \"group\": element.group,\n      \"index\": groupindex\n    }) : _c('span', {\n      staticClass: \"has-text-weight-bold\"\n    }, [_vm._v(\" \" + _vm._s(element.group) + \" \")])], 2) : _vm._e(), _vm._l(element.items, function (option, index) {\n      return _c('a', {\n        key: groupindex + ':' + index,\n        staticClass: \"dropdown-item\",\n        class: {\n          'is-hovered': option === _vm.hovered\n        },\n        attrs: {\n          \"role\": \"button\",\n          \"tabindex\": \"0\"\n        },\n        on: {\n          \"click\": function ($event) {\n            $event.stopPropagation();\n            return _vm.setSelected(option, !_vm.keepOpen, $event);\n          }\n        }\n      }, [_vm.hasDefaultSlot ? _vm._t(\"default\", null, {\n        \"option\": option,\n        \"index\": index\n      }) : _c('span', [_vm._v(\" \" + _vm._s(_vm.getValue(option, true)) + \" \")])], 2);\n    })];\n  }), _vm.isEmpty && _vm.hasEmptySlot ? _c('div', {\n    staticClass: \"dropdown-item is-disabled\"\n  }, [_vm._t(\"empty\")], 2) : _vm._e(), _vm.hasFooterSlot ? _c('div', {\n    staticClass: \"dropdown-item dropdown-footer\",\n    class: {\n      'is-hovered': _vm.footerHovered\n    },\n    attrs: {\n      \"role\": \"button\",\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function ($event) {\n        return _vm.selectHeaderOrFoterByClick($event, 'footer');\n      }\n    }\n  }, [_vm._t(\"footer\")], 2) : _vm._e()], 2)])])], 1);\n};\nvar __vue_staticRenderFns__ = [];\n\n/* style */\nconst __vue_inject_styles__ = undefined;\n/* scoped */\nconst __vue_scope_id__ = undefined;\n/* module identifier */\nconst __vue_module_identifier__ = undefined;\n/* functional template */\nconst __vue_is_functional_template__ = false;\n/* style inject */\n\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nconst __vue_component__ = /*#__PURE__*/normalizeComponent({\n  render: __vue_render__,\n  staticRenderFns: __vue_staticRenderFns__\n}, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, false, undefined, undefined, undefined);\nvar Autocomplete = __vue_component__;\nexport { Autocomplete as A };","map":{"version":3,"names":["_","_defineProperty","l","_createForOfIteratorHelper","e","_toConsumableArray","b","_typeof","getValueByPath","toCssWidth","isCustomElement","createAbsoluteElement","removeElement","F","FormElementMixin","I","Input","n","normalizeComponent","script","name","components","mixins","inheritAttrs","props","value","Number","String","data","type","Array","default","_default","field","keepFirst","Boolean","clearOnSelect","openOnFocus","customFormatter","Function","checkInfiniteScroll","keepOpen","selectOnClickOutside","clearable","maxHeight","dropdownPosition","groupField","groupOptions","iconRight","iconRightClickable","appendToBody","confirmKeys","selectableHeader","selectableFooter","selected","hovered","headerHovered","footerHovered","isActive","newValue","newAutocomplete","autocomplete","ariaAutocomplete","isListInViewportVertically","hasFocus","style","_isAutocomplete","_elementRef","_bodyEl","undefined","timeOutID","computed","computedData","_this","newData","forEach","option","group","items","push","tmp","_newData","Object","keys","isEmpty","some","element","length","whiteList","$refs","input","$el","querySelector","dropdown","children","querySelectorAll","_iterator","_step","s","done","child","err","f","$parent","$data","_isTaginput","tagInputChildren","_iterator2","_step2","tagInputChild","hasDefaultSlot","$scopedSlots","hasGroupSlot","hasEmptySlot","$slots","empty","hasHeaderSlot","header","hasFooterSlot","footer","isOpenedTop","newIconRight","newIconRightClickable","contentStyle","watch","active","_this2","calcDropdownInViewportVertical","setTimeout","$nextTick","$emit","_checkInfiniteScroll","list","addEventListener","checkIfReachedTheEndOfScroll","removeEventListener","currentValue","getValue","setSelected","_value","_this3","selectFirstOption","setHovered","hoveredValue","map","d","reduce","a","concat","methods","_this4","closeDropdown","arguments","event","checkValidity","_this5","nonEmptyElements","filter","keydown","key","preventDefault","indexOf","checkIfHeaderOrFooterSelected","selectHeaderOrFoterByClick","origin","triggerClick","clickedOutside","target","composedPath","footerHeight","clientHeight","scrollHeight","scrollTop","parentElement","_this6","rect","getBoundingClientRect","top","bottom","window","innerHeight","document","documentElement","updateAppendToBody","keyArrows","direction","sum","unshift","index","querySelectorText","visMin","visMax","offsetTop","focused","select","onBlur","onInput","rightIconClick","focus","_this7","useHtml5Validation","checkHtml5Validity","dropdownMenu","trigger","root","classList","item","remove","add","expandend","scrollY","left","scrollX","position","width","clientWidth","maxWidth","zIndex","created","mounted","beforeDestroy","clearTimeout","__vue_script__","__vue_render__","_vm","_h","$createElement","_c","_self","staticClass","class","expanded","_b","ref","attrs","size","loading","rounded","icon","iconPack","maxlength","on","icon-click","nativeOn","$event","_k","keyCode","model","callback","$$v","expression","$attrs","directives","rawName","click","_t","_e","_l","groupindex","_v","_s","stopPropagation","__vue_staticRenderFns__","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","render","staticRenderFns","Autocomplete","A"],"sources":["/home/kira/DESKTOP/git/frond/Pos/node_modules/buefy/dist/esm/Autocomplete-1a6e8770.js"],"sourcesContent":["import { _ as _defineProperty, l as _createForOfIteratorHelper, e as _toConsumableArray, b as _typeof } from './_rollupPluginBabelHelpers-df313029.js';\nimport { getValueByPath, toCssWidth, isCustomElement, createAbsoluteElement, removeElement } from './helpers.js';\nimport { F as FormElementMixin } from './FormElementMixin-b223d3c7.js';\nimport { I as Input } from './Input-20612b63.js';\nimport { n as normalizeComponent } from './plugins-218aea86.js';\n\nvar script = {\n  name: 'BAutocomplete',\n  components: _defineProperty({}, Input.name, Input),\n  mixins: [FormElementMixin],\n  inheritAttrs: false,\n  props: {\n    value: [Number, String],\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    field: {\n      type: String,\n      default: 'value'\n    },\n    keepFirst: Boolean,\n    clearOnSelect: Boolean,\n    openOnFocus: Boolean,\n    customFormatter: Function,\n    checkInfiniteScroll: Boolean,\n    keepOpen: Boolean,\n    selectOnClickOutside: Boolean,\n    clearable: Boolean,\n    maxHeight: [String, Number],\n    dropdownPosition: {\n      type: String,\n      default: 'auto'\n    },\n    groupField: String,\n    groupOptions: String,\n    iconRight: String,\n    iconRightClickable: Boolean,\n    appendToBody: Boolean,\n    type: {\n      type: String,\n      default: 'text'\n    },\n    confirmKeys: {\n      type: Array,\n      default: function _default() {\n        return ['Tab', 'Enter'];\n      }\n    },\n    selectableHeader: Boolean,\n    selectableFooter: Boolean\n  },\n  data: function data() {\n    return {\n      selected: null,\n      hovered: null,\n      headerHovered: null,\n      footerHovered: null,\n      isActive: false,\n      newValue: this.value,\n      newAutocomplete: this.autocomplete || 'off',\n      ariaAutocomplete: this.keepFirst ? 'both' : 'list',\n      isListInViewportVertically: true,\n      hasFocus: false,\n      style: {},\n      _isAutocomplete: true,\n      _elementRef: 'input',\n      _bodyEl: undefined,\n      // Used to append to body\n      timeOutID: null\n    };\n  },\n  computed: {\n    computedData: function computedData() {\n      var _this = this;\n      if (this.groupField) {\n        if (this.groupOptions) {\n          var newData = [];\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            var items = getValueByPath(option, _this.groupOptions);\n            newData.push({\n              group: group,\n              items: items\n            });\n          });\n          return newData;\n        } else {\n          var tmp = {};\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            if (!tmp[group]) tmp[group] = [];\n            tmp[group].push(option);\n          });\n          var _newData = [];\n          Object.keys(tmp).forEach(function (group) {\n            _newData.push({\n              group: group,\n              items: tmp[group]\n            });\n          });\n          return _newData;\n        }\n      }\n      return [{\n        items: this.data\n      }];\n    },\n    isEmpty: function isEmpty() {\n      if (!this.computedData) return true;\n      return !this.computedData.some(function (element) {\n        return element.items && element.items.length;\n      });\n    },\n    /**\n     * White-listed items to not close when clicked.\n     * Add input, dropdown and all children.\n     */\n    whiteList: function whiteList() {\n      var whiteList = [];\n      whiteList.push(this.$refs.input.$el.querySelector('input'));\n      whiteList.push(this.$refs.dropdown);\n      // Add all children from dropdown\n      if (this.$refs.dropdown !== undefined) {\n        var children = this.$refs.dropdown.querySelectorAll('*');\n        var _iterator = _createForOfIteratorHelper(children),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var child = _step.value;\n            whiteList.push(child);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n      if (this.$parent.$data._isTaginput) {\n        // Add taginput container\n        whiteList.push(this.$parent.$el);\n        // Add .tag and .delete\n        var tagInputChildren = this.$parent.$el.querySelectorAll('*');\n        var _iterator2 = _createForOfIteratorHelper(tagInputChildren),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var tagInputChild = _step2.value;\n            whiteList.push(tagInputChild);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n      return whiteList;\n    },\n    /**\n     * Check if exists default slot\n     */\n    hasDefaultSlot: function hasDefaultSlot() {\n      return !!this.$scopedSlots.default;\n    },\n    /**\n     * Check if exists group slot\n     */\n    hasGroupSlot: function hasGroupSlot() {\n      return !!this.$scopedSlots.group;\n    },\n    /**\n     * Check if exists \"empty\" slot\n     */\n    hasEmptySlot: function hasEmptySlot() {\n      return !!this.$slots.empty;\n    },\n    /**\n     * Check if exists \"header\" slot\n     */\n    hasHeaderSlot: function hasHeaderSlot() {\n      return !!this.$slots.header;\n    },\n    /**\n     * Check if exists \"footer\" slot\n     */\n    hasFooterSlot: function hasFooterSlot() {\n      return !!this.$slots.footer;\n    },\n    /**\n     * Apply dropdownPosition property\n     */\n    isOpenedTop: function isOpenedTop() {\n      return this.dropdownPosition === 'top' || this.dropdownPosition === 'auto' && !this.isListInViewportVertically;\n    },\n    newIconRight: function newIconRight() {\n      if (this.clearable && this.newValue) {\n        return 'close-circle';\n      }\n      return this.iconRight;\n    },\n    newIconRightClickable: function newIconRightClickable() {\n      if (this.clearable) {\n        return true;\n      }\n      return this.iconRightClickable;\n    },\n    contentStyle: function contentStyle() {\n      return {\n        maxHeight: toCssWidth(this.maxHeight)\n      };\n    }\n  },\n  watch: {\n    /**\n     * When dropdown is toggled, check the visibility to know when\n     * to open upwards.\n     */\n    isActive: function isActive(active) {\n      var _this2 = this;\n      if (this.dropdownPosition === 'auto') {\n        if (active) {\n          this.calcDropdownInViewportVertical();\n        } else {\n          // Timeout to wait for the animation to finish before recalculating\n          this.timeOutID = setTimeout(function () {\n            _this2.calcDropdownInViewportVertical();\n          }, 100);\n        }\n      }\n      this.$nextTick(function () {\n        _this2.$emit('active', active);\n      });\n    },\n    /**\n     * When checkInfiniteScroll property changes scroll event should be removed or added\n     */\n    checkInfiniteScroll: function checkInfiniteScroll(_checkInfiniteScroll) {\n      if ((this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) === false) return;\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      if (_checkInfiniteScroll === true) {\n        list.addEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n        return;\n      }\n      list.removeEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n    },\n    /**\n     * When updating input's value\n     *   1. Emit changes\n     *   2. If value isn't the same as selected, set null\n     *   3. Close dropdown if value is clear or else open it\n     */\n    newValue: function newValue(value) {\n      this.$emit('input', value);\n      // Check if selected is invalid\n      var currentValue = this.getValue(this.selected);\n      if (currentValue && currentValue !== value) {\n        this.setSelected(null, false);\n      }\n      // Close dropdown if input is clear or else open it\n      if (this.hasFocus && (!this.openOnFocus || value)) {\n        this.isActive = !!value;\n      }\n    },\n    /**\n     * When v-model is changed:\n     *   1. Update internal value.\n     *   2. If it's invalid, validate again.\n     */\n    value: function value(_value) {\n      this.newValue = _value;\n    },\n    /**\n     * Select first option if \"keep-first\n     */\n    data: function data() {\n      var _this3 = this;\n      // Keep first option always pre-selected\n      if (this.keepFirst) {\n        this.$nextTick(function () {\n          if (_this3.isActive) {\n            _this3.selectFirstOption(_this3.computedData);\n          } else {\n            _this3.setHovered(null);\n          }\n        });\n      } else {\n        if (this.hovered) {\n          // reset hovered if list doesn't contain it\n          var hoveredValue = this.getValue(this.hovered);\n          var data = this.computedData.map(function (d) {\n            return d.items;\n          }).reduce(function (a, b) {\n            return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n          }, []);\n          if (!data.some(function (d) {\n            return _this3.getValue(d) === hoveredValue;\n          })) {\n            this.setHovered(null);\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    /**\n     * Set which option is currently hovered.\n     */\n    setHovered: function setHovered(option) {\n      if (option === undefined) return;\n      this.hovered = option;\n    },\n    /**\n     * Set which option is currently selected, update v-model,\n     * update input value and close dropdown.\n     */\n    setSelected: function setSelected(option) {\n      var _this4 = this;\n      var closeDropdown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var event = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      if (option === undefined) return;\n      this.selected = option;\n      this.$emit('select', this.selected, event);\n      if (this.selected !== null) {\n        if (this.clearOnSelect) {\n          var input = this.$refs.input;\n          input.newValue = '';\n          input.$refs.input.value = '';\n        } else {\n          this.newValue = this.getValue(this.selected);\n        }\n        this.setHovered(null);\n      }\n      closeDropdown && this.$nextTick(function () {\n        _this4.isActive = false;\n      });\n      this.checkValidity();\n    },\n    /**\n     * Select first option\n     */\n    selectFirstOption: function selectFirstOption(computedData) {\n      var _this5 = this;\n      this.$nextTick(function () {\n        var nonEmptyElements = computedData.filter(function (element) {\n          return element.items && element.items.length;\n        });\n        if (nonEmptyElements.length) {\n          var option = nonEmptyElements[0].items[0];\n          _this5.setHovered(option);\n        } else {\n          _this5.setHovered(null);\n        }\n      });\n    },\n    keydown: function keydown(event) {\n      var key = event.key; // cannot destructure preventDefault (https://stackoverflow.com/a/49616808/2774496)\n      // prevent emit submit event\n      if (key === 'Enter') event.preventDefault();\n      // Close dropdown on Tab & no hovered\n      if (key === 'Escape' || key === 'Tab') {\n        this.isActive = false;\n      }\n      if (this.confirmKeys.indexOf(key) >= 0) {\n        // If adding by comma, don't add the comma to the input\n        if (key === ',') event.preventDefault();\n        // Close dropdown on select by Tab\n        var closeDropdown = !this.keepOpen || key === 'Tab';\n        if (this.hovered === null) {\n          // header and footer uses headerHovered && footerHovered. If header or footer\n          // was selected then fire event otherwise just return so a value isn't selected\n          this.checkIfHeaderOrFooterSelected(event, null, closeDropdown);\n          return;\n        }\n        this.setSelected(this.hovered, closeDropdown, event);\n      }\n    },\n    selectHeaderOrFoterByClick: function selectHeaderOrFoterByClick(event, origin) {\n      this.checkIfHeaderOrFooterSelected(event, {\n        origin: origin\n      });\n    },\n    /**\n     * Check if header or footer was selected.\n     */\n    checkIfHeaderOrFooterSelected: function checkIfHeaderOrFooterSelected(event, triggerClick) {\n      var closeDropdown = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (this.selectableHeader && (this.headerHovered || triggerClick && triggerClick.origin === 'header')) {\n        this.$emit('select-header', event);\n        this.headerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n      if (this.selectableFooter && (this.footerHovered || triggerClick && triggerClick.origin === 'footer')) {\n        this.$emit('select-footer', event);\n        this.footerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n    },\n    /**\n     * Close dropdown if clicked outside.\n     */\n    clickedOutside: function clickedOutside(event) {\n      var target = isCustomElement(this) ? event.composedPath()[0] : event.target;\n      if (!this.hasFocus && this.whiteList.indexOf(target) < 0) {\n        if (this.keepFirst && this.hovered && this.selectOnClickOutside) {\n          this.setSelected(this.hovered, true);\n        } else {\n          this.isActive = false;\n        }\n      }\n    },\n    /**\n     * Return display text for the input.\n     * If object, get value from path, or else just the value.\n     */\n    getValue: function getValue(option) {\n      if (option === null) return;\n      if (typeof this.customFormatter !== 'undefined') {\n        return this.customFormatter(option);\n      }\n      return _typeof(option) === 'object' ? getValueByPath(option, this.field) : option;\n    },\n    /**\n     * Check if the scroll list inside the dropdown\n     * reached it's end.\n     */\n    checkIfReachedTheEndOfScroll: function checkIfReachedTheEndOfScroll() {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      var footerHeight = this.hasFooterSlot ? list.querySelectorAll('div.dropdown-footer')[0].clientHeight : 0;\n      if (list.clientHeight !== list.scrollHeight && list.scrollTop + list.parentElement.clientHeight + footerHeight >= list.scrollHeight) {\n        this.$emit('infinite-scroll');\n      }\n    },\n    /**\n     * Calculate if the dropdown is vertically visible when activated,\n     * otherwise it is openened upwards.\n     */\n    calcDropdownInViewportVertical: function calcDropdownInViewportVertical() {\n      var _this6 = this;\n      this.$nextTick(function () {\n        /**\n         * this.$refs.dropdown may be undefined\n         * when Autocomplete is conditional rendered\n         */\n        if (_this6.$refs.dropdown === undefined) return;\n        var rect = _this6.$refs.dropdown.getBoundingClientRect();\n        _this6.isListInViewportVertically = rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);\n        if (_this6.appendToBody) {\n          _this6.updateAppendToBody();\n        }\n      });\n    },\n    /**\n     * Arrows keys listener.\n     * If dropdown is active, set hovered option, or else just open.\n     */\n    keyArrows: function keyArrows(direction) {\n      var sum = direction === 'down' ? 1 : -1;\n      if (this.isActive) {\n        var data = this.computedData.map(function (d) {\n          return d.items;\n        }).reduce(function (a, b) {\n          return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n        }, []);\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          data.unshift(undefined);\n        }\n        if (this.hasFooterSlot && this.selectableFooter) {\n          data.push(undefined);\n        }\n        var index;\n        if (this.headerHovered) {\n          index = 0 + sum;\n        } else if (this.footerHovered) {\n          index = data.length - 1 + sum;\n        } else {\n          index = data.indexOf(this.hovered) + sum;\n        }\n        index = index > data.length - 1 ? data.length - 1 : index;\n        index = index < 0 ? 0 : index;\n        this.footerHovered = false;\n        this.headerHovered = false;\n        this.setHovered(data[index] !== undefined ? data[index] : null);\n        if (this.hasFooterSlot && this.selectableFooter && index === data.length - 1) {\n          this.footerHovered = true;\n        }\n        if (this.hasHeaderSlot && this.selectableHeader && index === 0) {\n          this.headerHovered = true;\n        }\n        var list = this.$refs.dropdown.querySelector('.dropdown-content');\n        var querySelectorText = 'a.dropdown-item:not(.is-disabled)';\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          querySelectorText += ',div.dropdown-header';\n        }\n        if (this.hasFooterSlot && this.selectableFooter) {\n          querySelectorText += ',div.dropdown-footer';\n        }\n        var element = list.querySelectorAll(querySelectorText)[index];\n        if (!element) return;\n        var visMin = list.scrollTop;\n        var visMax = list.scrollTop + list.clientHeight - element.clientHeight;\n        if (element.offsetTop < visMin) {\n          list.scrollTop = element.offsetTop;\n        } else if (element.offsetTop >= visMax) {\n          list.scrollTop = element.offsetTop - list.clientHeight + element.clientHeight;\n        }\n      } else {\n        this.isActive = true;\n      }\n    },\n    /**\n     * Focus listener.\n     * If value is the same as selected, select all text.\n     */\n    focused: function focused(event) {\n      if (this.getValue(this.selected) === this.newValue) {\n        this.$el.querySelector('input').select();\n      }\n      if (this.openOnFocus) {\n        this.isActive = true;\n        if (this.keepFirst) {\n          // If open on focus, update the hovered\n          this.selectFirstOption(this.computedData);\n        }\n      }\n      this.hasFocus = true;\n      this.$emit('focus', event);\n    },\n    /**\n     * Blur listener.\n     */\n    onBlur: function onBlur(event) {\n      this.hasFocus = false;\n      this.$emit('blur', event);\n    },\n    onInput: function onInput() {\n      var currentValue = this.getValue(this.selected);\n      if (currentValue && currentValue === this.newValue) return;\n      this.$emit('typing', this.newValue);\n      this.checkValidity();\n    },\n    rightIconClick: function rightIconClick(event) {\n      if (this.clearable) {\n        this.newValue = '';\n        this.setSelected(null, false);\n        if (this.openOnFocus) {\n          this.$refs.input.$el.focus();\n        }\n      } else {\n        this.$emit('icon-right-click', event);\n      }\n    },\n    checkValidity: function checkValidity() {\n      var _this7 = this;\n      if (this.useHtml5Validation) {\n        this.$nextTick(function () {\n          _this7.checkHtml5Validity();\n        });\n      }\n    },\n    updateAppendToBody: function updateAppendToBody() {\n      var dropdownMenu = this.$refs.dropdown;\n      var trigger = this.$parent.$data._isTaginput ? this.$parent.$el : this.$refs.input.$el;\n      if (dropdownMenu && trigger) {\n        // update wrapper dropdown\n        var root = this.$data._bodyEl;\n        root.classList.forEach(function (item) {\n          return root.classList.remove(item);\n        });\n        root.classList.add('autocomplete');\n        root.classList.add('control');\n        if (this.expandend) {\n          root.classList.add('is-expandend');\n        }\n        var rect = trigger.getBoundingClientRect();\n        var top = rect.top + window.scrollY;\n        var left = rect.left + window.scrollX;\n        if (!this.isOpenedTop) {\n          top += trigger.clientHeight;\n        } else {\n          top -= dropdownMenu.clientHeight;\n        }\n        this.style = {\n          position: 'absolute',\n          top: \"\".concat(top, \"px\"),\n          left: \"\".concat(left, \"px\"),\n          width: \"\".concat(trigger.clientWidth, \"px\"),\n          maxWidth: \"\".concat(trigger.clientWidth, \"px\"),\n          zIndex: '99'\n        };\n      }\n    }\n  },\n  created: function created() {\n    if (typeof window !== 'undefined') {\n      document.addEventListener('click', this.clickedOutside);\n      if (this.dropdownPosition === 'auto') {\n        window.addEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n  },\n  mounted: function mounted() {\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.addEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n    }\n    if (this.appendToBody) {\n      this.$data._bodyEl = createAbsoluteElement(this.$refs.dropdown);\n      this.updateAppendToBody();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (typeof window !== 'undefined') {\n      document.removeEventListener('click', this.clickedOutside);\n      if (this.dropdownPosition === 'auto') {\n        window.removeEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.removeEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n    }\n    if (this.appendToBody) {\n      removeElement(this.$data._bodyEl);\n    }\n    clearTimeout(this.timeOutID);\n  }\n};\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"autocomplete control\",class:{ 'is-expanded': _vm.expanded }},[_c('b-input',_vm._b({ref:\"input\",attrs:{\"type\":_vm.type,\"size\":_vm.size,\"loading\":_vm.loading,\"rounded\":_vm.rounded,\"icon\":_vm.icon,\"icon-right\":_vm.newIconRight,\"icon-right-clickable\":_vm.newIconRightClickable,\"icon-pack\":_vm.iconPack,\"maxlength\":_vm.maxlength,\"autocomplete\":_vm.newAutocomplete,\"use-html5-validation\":false,\"aria-autocomplete\":_vm.ariaAutocomplete},on:{\"input\":_vm.onInput,\"focus\":_vm.focused,\"blur\":_vm.onBlur,\"icon-right-click\":_vm.rightIconClick,\"icon-click\":function (event) { return _vm.$emit('icon-click', event); }},nativeOn:{\"keydown\":[function($event){return _vm.keydown($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }$event.preventDefault();return _vm.keyArrows('up')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }$event.preventDefault();return _vm.keyArrows('down')}]},model:{value:(_vm.newValue),callback:function ($$v) {_vm.newValue=$$v;},expression:\"newValue\"}},'b-input',_vm.$attrs,false)),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive && (!_vm.isEmpty || _vm.hasEmptySlot || _vm.hasHeaderSlot || _vm.hasFooterSlot)),expression:\"isActive && (!isEmpty || hasEmptySlot || hasHeaderSlot || hasFooterSlot)\"}],ref:\"dropdown\",staticClass:\"dropdown-menu\",class:{ 'is-opened-top': _vm.isOpenedTop && !_vm.appendToBody },style:(_vm.style)},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive),expression:\"isActive\"}],staticClass:\"dropdown-content\",style:(_vm.contentStyle)},[(_vm.hasHeaderSlot)?_c('div',{staticClass:\"dropdown-item dropdown-header\",class:{ 'is-hovered': _vm.headerHovered },attrs:{\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.selectHeaderOrFoterByClick($event, 'header')}}},[_vm._t(\"header\")],2):_vm._e(),_vm._l((_vm.computedData),function(element,groupindex){return [(element.group)?_c('div',{key:groupindex + 'group',staticClass:\"dropdown-item\"},[(_vm.hasGroupSlot)?_vm._t(\"group\",null,{\"group\":element.group,\"index\":groupindex}):_c('span',{staticClass:\"has-text-weight-bold\"},[_vm._v(\" \"+_vm._s(element.group)+\" \")])],2):_vm._e(),_vm._l((element.items),function(option,index){return _c('a',{key:groupindex + ':' + index,staticClass:\"dropdown-item\",class:{ 'is-hovered': option === _vm.hovered },attrs:{\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setSelected(option, !_vm.keepOpen, $event)}}},[(_vm.hasDefaultSlot)?_vm._t(\"default\",null,{\"option\":option,\"index\":index}):_c('span',[_vm._v(\" \"+_vm._s(_vm.getValue(option, true))+\" \")])],2)})]}),(_vm.isEmpty && _vm.hasEmptySlot)?_c('div',{staticClass:\"dropdown-item is-disabled\"},[_vm._t(\"empty\")],2):_vm._e(),(_vm.hasFooterSlot)?_c('div',{staticClass:\"dropdown-item dropdown-footer\",class:{ 'is-hovered': _vm.footerHovered },attrs:{\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.selectHeaderOrFoterByClick($event, 'footer')}}},[_vm._t(\"footer\")],2):_vm._e()],2)])])],1)};\nvar __vue_staticRenderFns__ = [];\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/normalizeComponent(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\n  var Autocomplete = __vue_component__;\n\nexport { Autocomplete as A };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}